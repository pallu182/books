<HTML
><HEAD
>
<TITLE>[Chapter 3] 3.2.117 readdir</TITLE>
<META
NAME="DC.title"
CONTENT="Programming Perl"><META
NAME="DC.creator"
CONTENT="Larry Wall, Tom Christiansen &amp; Randal L. Schwartz"><META
NAME="DC.publisher"
CONTENT="O'Reilly &amp; Associates, Inc."><META
NAME="DC.date"
CONTENT="1999-07-02T01:52:47Z"><META
NAME="DC.type"
CONTENT="Text.Monograph"><META
NAME="DC.format"
CONTENT="text/html"
SCHEME="MIME"><META
NAME="DC.source"
CONTENT="1-56592-149-6"
SCHEME="ISBN"><META
NAME="DC.language"
CONTENT="en-US"><META
NAME="generator"
CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINK
REV="made"
HREF="mailto:online-books@oreilly.com"
TITLE="Online Books Comments"><LINK
REL="up"
HREF="ch03_02.htm"
TITLE="3.2 Perl Functions in Alphabetical Order"><LINK
REL="prev"
HREF="ch03_116.htm"
TITLE="3.2.116 read"><LINK
REL="next"
HREF="ch03_118.htm"
TITLE="3.2.118 readlink"></HEAD
><BODY
BGCOLOR="#FFFFFF"
TEXT="#000000"
><DIV
CLASS="htmlnav"
><H1
><IMG
SRC="gifs/smbanner.gif"
ALT="Programming Perl"
USEMAP="#srchmap"
BORDER="0"></H1
><MAP
NAME="srchmap"
><AREA
SHAPE="RECT"
COORDS="0,0,466,65"
HREF="index.htm"
ALT="Programming Perl"><AREA
SHAPE="RECT"
COORDS="467,0,514,18"
HREF="../search/psrch.htm"
ALT="Search this book"></MAP
><TABLE
WIDTH="515"
BORDER="0"
CELLSPACING="0"
CELLPADDING="0"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT2"
HREF="ch03_116.htm"
TITLE="3.2.116 read"
><IMG
SRC="../gifs/txtpreva.gif"
ALT="Previous: 3.2.116 read"
BORDER="0"></A
></TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><B
><FONT
FACE="ARIEL,HELVETICA,HELV,SANSERIF"
SIZE="-1"
><A
CLASS="chapter"
REL="up"
HREF="ch03_01.htm"
TITLE="3. Functions"
>Chapter 3<BR>Functions</A
></FONT
></B
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT2"
HREF="ch03_118.htm"
TITLE="3.2.118 readlink"
><IMG
SRC="../gifs/txtnexta.gif"
ALT="Next: 3.2.118 readlink"
BORDER="0"></A
></TD
></TR
></TABLE
>&nbsp;<HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"></DIV
><DIV
CLASS="SECT2"
><H3
CLASS="sect2"
><A
CLASS="title"
NAME="PERL2-CMD-READDIR"
>3.2.117 readdir</A
></H3
><PRE
CLASS="programlisting"
>readdir <CODE
CLASS="replaceable"
><I
>DIRHANDLE</I
></CODE
></PRE
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-12114"
></A
><A
CLASS="indexterm"
NAME="AUTOID-12116"
></A
>This function reads directory entries from a directory handle opened
by <A
CLASS="xref"
HREF="ch03_103.htm"
TITLE="opendir"
><B
CLASS="xref.cmd"
>opendir</B
></A
>.
In scalar context, this function returns the next directory entry, if any,
otherwise an undefined value.
In list context, it returns all the rest of the entries in the
directory, which will of course be a null list if there are none.
For example:</P
><PRE
CLASS="programlisting"
>opendir THISDIR, &quot;.&quot; or die &quot;serious dainbramage: $!&quot;;
@allfiles = readdir THISDIR;
closedir THISDIR;
print &quot;@allfiles\n&quot;;</PRE
><P
CLASS="para"
>prints all the files in the current directory on one line.  If you want to avoid
the &quot;<CODE
CLASS="literal"
>.</CODE
>&quot; and &quot;<CODE
CLASS="literal"
>..</CODE
>&quot;
entries, use this instead:</P
><PRE
CLASS="programlisting"
>@allfiles = grep !/^\.\.?$/, readdir THISDIR;</PRE
><P
CLASS="para"
>And to avoid all <CODE
CLASS="literal"
>.*</CODE
> files (like the <EM
CLASS="emphasis"
>ls</EM
> program):</P
><PRE
CLASS="programlisting"
>@allfiles = grep !/^\./, readdir THISDIR;</PRE
><P
CLASS="para"
>To get just text files, say this:</P
><PRE
CLASS="programlisting"
>@textfiles = grep -T, readdir THISDIR;</PRE
><P
CLASS="para"
>But watch out on that last one, because the result of <A
CLASS="xref"
HREF="ch03_117.htm"
TITLE="readdir"
><B
CLASS="xref.cmd"
>readdir</B
></A
>
needs to have the directory part glued back on if it's not the current
directory&nbsp;- like this:</P
><PRE
CLASS="programlisting"
>opendir THATDIR, $thatdir;
@text_of_thatdir = grep -T, map &quot;$thatdir/$_&quot;, readdir THATDIR;
closedir THATDIR;</PRE
></DIV
><DIV
CLASS="htmlnav"
><P
></P
><HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"><TABLE
WIDTH="515"
BORDER="0"
CELLSPACING="0"
CELLPADDING="0"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT2"
HREF="ch03_116.htm"
TITLE="3.2.116 read"
><IMG
SRC="../gifs/txtpreva.gif"
ALT="Previous: 3.2.116 read"
BORDER="0"></A
></TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><A
CLASS="book"
HREF="index.htm"
TITLE="Programming Perl"
><IMG
SRC="../gifs/txthome.gif"
ALT="Programming Perl"
BORDER="0"></A
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT2"
HREF="ch03_118.htm"
TITLE="3.2.118 readlink"
><IMG
SRC="../gifs/txtnexta.gif"
ALT="Next: 3.2.118 readlink"
BORDER="0"></A
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
>3.2.116 read</TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><A
CLASS="index"
HREF="index/idx_0.htm"
TITLE="Book Index"
><IMG
SRC="../gifs/index.gif"
ALT="Book Index"
BORDER="0"></A
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
>3.2.118 readlink</TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"><P
CLASS="nav"
><FONT
SIZE="-1"
>[ <A
HREF="../index.htm"
TITLE="The Perl CD Bookshelf"
>Library Home</A
> | <A
HREF="../perlnut/index.htm"
TITLE="Perl in a Nutshell"
>Perl in a Nutshell</A
> | <A
HREF="../learn/index.htm"
TITLE="Learning Perl"
>Learning Perl</A
> | <A
HREF="../learn32/index.htm"
TITLE="Learning Perl on Win32 Systems"
>Learning Perl on Win32</A
> | <A
HREF="index.htm"
TITLE="Programming Perl"
>Programming Perl</A
> | <A
HREF="../advprog/index.htm"
TITLE="Advanced Perl Programming"
>Advanced Perl Programming</A
> | <A
HREF="../cookbook/index.htm"
TITLE="Perl Cookbook"
>Perl Cookbook</A
> ]</FONT
></P
></DIV
></BODY
></HTML
>
