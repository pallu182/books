<HTML
><HEAD
>
<TITLE>[Chapter 8] Functions</TITLE>
<META
NAME="DC.title"
CONTENT="Learning Perl"><META
NAME="DC.creator"
CONTENT="Randal Schwartz, Tom Christiansen &amp; Larry Wall"><META
NAME="DC.publisher"
CONTENT="O'Reilly &amp; Associates, Inc."><META
NAME="DC.date"
CONTENT="1999-07-02T01:33:28Z"><META
NAME="DC.type"
CONTENT="Text.Monograph"><META
NAME="DC.format"
CONTENT="text/html"
SCHEME="MIME"><META
NAME="DC.source"
CONTENT="1-56592-284-0"
SCHEME="ISBN"><META
NAME="DC.language"
CONTENT="en-US"><META
NAME="generator"
CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINK
REV="made"
HREF="mailto:online-books@oreilly.com"
TITLE="Online Books Comments"><LINK
REL="up"
HREF="index.htm"
TITLE="Learning Perl"><LINK
REL="prev"
HREF="ch07_07.htm"
TITLE="7.7 Exercises"><LINK
REL="next"
HREF="ch08_02.htm"
TITLE="8.2 Invoking a User Function"></HEAD
><BODY
BGCOLOR="#FFFFFF"
TEXT="#000000"
><DIV
CLASS="htmlnav"
><H1
><IMG
SRC="gifs/smbanner.gif"
ALT="Learning Perl"
USEMAP="#srchmap"
BORDER="0"></H1
><MAP
NAME="srchmap"
><AREA
SHAPE="RECT"
COORDS="0,0,466,54"
HREF="index.htm"
ALT="Learning Perl"><AREA
SHAPE="RECT"
COORDS="467,0,514,18"
HREF="../search/lsrch.htm"
ALT="Search this book"></MAP
><TABLE
WIDTH="515"
BORDER="0"
CELLSPACING="0"
CELLPADDING="0"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="sect1"
HREF="ch07_07.htm"
TITLE="7.7 Exercises"
><IMG
SRC="../gifs/txtpreva.gif"
ALT="Previous: 7.7 Exercises"
BORDER="0"></A
></TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><B
><FONT
FACE="ARIEL,HELVETICA,HELV,SANSERIF"
SIZE="-1"
>Chapter 8</FONT
></B
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="sect1"
HREF="ch08_02.htm"
TITLE="8.2 Invoking a User Function"
><IMG
SRC="../gifs/txtnexta.gif"
ALT="Next: 8.2 Invoking a User Function"
BORDER="0"></A
></TD
></TR
></TABLE
>&nbsp;<HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"></DIV
><DIV
CLASS="chapter"
><H1
CLASS="chapter"
><A
CLASS="title"
NAME="ch08-pgfId-85671"
>8. Functions</A
></H1
><DIV
CLASS="htmltoc"
><P
><B
>Contents:</B
><BR><A
CLASS="sect1"
HREF="#ch08-17462"
TITLE="8.1 Defining a User Function"
>Defining a User Function</A
><BR><A
CLASS="sect1"
HREF="ch08_02.htm"
TITLE="8.2 Invoking a User Function"
>Invoking a User Function</A
><BR><A
CLASS="sect1"
HREF="ch08_03.htm"
TITLE="8.3 Return Values"
>Return Values</A
><BR><A
CLASS="sect1"
HREF="ch08_04.htm"
TITLE="8.4 Arguments"
>Arguments</A
><BR><A
CLASS="sect1"
HREF="ch08_05.htm"
TITLE="8.5 Private Variables in Functions"
>Private Variables in Functions</A
><BR><A
CLASS="sect1"
HREF="ch08_06.htm"
TITLE="8.6 Semiprivate Variables Using local"
>Semiprivate Variables Using local</A
><BR><A
CLASS="sect1"
HREF="ch08_07.htm"
TITLE="8.7 File-Level my( ) Variables"
>File-Level my( ) Variables</A
><BR><A
CLASS="sect1"
HREF="ch08_08.htm"
TITLE="8.8 Exercises"
>Exercises</A
></P
><P
></P
></DIV
><P
CLASS="para"
>We've already seen and used built-in functions, such as <CODE
CLASS="literal"
>chomp</CODE
>, <CODE
CLASS="literal"
>print</CODE
>, and so on. Now, let's take a look at functions that you define for yourself.</P
><DIV
CLASS="sect1"
><H2
CLASS="sect1"
><A
CLASS="title"
NAME="ch08-17462"
>8.1 Defining a User Function</A
></H2
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="ch08-idx-84158-0"
></A
>A user function, more commonly called a <A
CLASS="indexterm"
NAME="ch08-idx-84159-0"
></A
><EM
CLASS="emphasis"
>subroutine</EM
> or just a <EM
CLASS="emphasis"
>sub</EM
>, is defined in your Perl program using a construct like this:</P
><PRE
CLASS="programlisting"
><A
CLASS="indexterm"
NAME="ch08-idx-84160-0"
></A
>sub <CODE
CLASS="replaceable"
><I
>subname</I
></CODE
> {
    <CODE
CLASS="replaceable"
><I
>statement_1</I
></CODE
>;
    <CODE
CLASS="replaceable"
><I
>statement_2</I
></CODE
>;
    <CODE
CLASS="replaceable"
><I
>statement_3</I
></CODE
>;
}</PRE
><P
CLASS="para"
>The <EM
CLASS="emphasis"
>subname</EM
> is the name of the subroutine, which is any name like the names we've had for scalar variables, arrays, and hashes. Once again, these come from a different namespace, so you can have a scalar variable <CODE
CLASS="literal"
>$fred</CODE
>, an array <CODE
CLASS="literal"
>@fred</CODE
>, a hash <CODE
CLASS="literal"
>%fred</CODE
>, and now a subroutine <CODE
CLASS="literal"
>fred</CODE
>.[<A
CLASS="footnote"
HREF="#ch08-pgfId-507"
>1</A
>]</P
><BLOCKQUOTE
CLASS="footnote"
><DIV
CLASS="footnote"
><P
CLASS="para"
><A
CLASS="footnote"
NAME="ch08-pgfId-507"
>[1]</A
> Technically, the subroutine's name is <CODE
CLASS="literal"
>&amp;fred</CODE
>, but you seldom need to call it that.</P
></DIV
></BLOCKQUOTE
><P
CLASS="para"
>The <A
CLASS="indexterm"
NAME="ch08-idx-84161-0"
></A
>block of statements following the subroutine name becomes the definition of the subroutine. When the subroutine is invoked (described shortly), the block of statements that makes up the subroutine is executed, and any return value (described later) is returned to the caller.</P
><P
CLASS="para"
>Here, for example, is a subroutine that displays that famous phrase:</P
><PRE
CLASS="programlisting"
>sub say_hello {
    print &quot;hello, world!\n&quot;;
}</PRE
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="ch08-idx-84162-0"
></A
>Subroutine definitions can be anywhere in your program text (they are skipped on execution), but we like to put them at the end of the file, so that the main part of the program appears at the beginning of the file. (If you like to think in Pascal terms, you can put your subroutines at the beginning and your executable statements at the end, instead. It's up to you.)</P
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="ch08-idx-84163-0"
></A
>Subroutine definitions are global;[<A
CLASS="footnote"
HREF="#ch08-pgfId-512"
>2</A
>] there are no local subroutines. If you have <A
CLASS="indexterm"
NAME="ch08-idx-84164-0"
></A
>two subroutine definitions with the same name, the later one overwrites the earlier one without warning.[<A
CLASS="footnote"
HREF="#ch08-pgfId-382"
>3</A
>]</P
><BLOCKQUOTE
CLASS="footnote"
><DIV
CLASS="footnote"
><P
CLASS="para"
><A
CLASS="footnote"
NAME="ch08-pgfId-512"
>[2]</A
> Global to the current package, actually, but since this book doesn't really deal with separate packages, you may think of subroutine definitions as global to the whole program.</P
></DIV
><DIV
CLASS="footnote"
><P
CLASS="para"
><A
CLASS="footnote"
NAME="ch08-pgfId-382"
>[3]</A
> Unless you are running with the <CODE
CLASS="literal"
>-w</CODE
> switch.</P
></DIV
></BLOCKQUOTE
><P
CLASS="para"
>Within the subroutine body, you may access or give values to variables that are shared with the rest of the program (a <A
CLASS="indexterm"
NAME="ch08-idx-84165-0"
></A
><A
CLASS="indexterm"
NAME="ch08-idx-84165-1"
></A
><A
CLASS="indexterm"
NAME="ch08-idx-84165-2"
></A
><EM
CLASS="emphasis"
>global</EM
> variable). In fact, by default, any variable reference within a subroutine body refers to a global variable. We'll tell you about the exceptions in the upcoming section <A
CLASS="xref"
HREF="ch08_05.htm"
TITLE="Private Variables in Functions"
>"Private Variables in Functions</A
>." In the following example,</P
><PRE
CLASS="programlisting"
>sub say_what {
  print &quot;hello, $what\n&quot;;
}</PRE
><P
CLASS="para"
><CODE
CLASS="literal"
>$what</CODE
> refers to the global <CODE
CLASS="literal"
>$what</CODE
>, shared with the rest of the program.</P
></DIV
></DIV
><DIV
CLASS="htmlnav"
><P
></P
><HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"><TABLE
WIDTH="515"
BORDER="0"
CELLSPACING="0"
CELLPADDING="0"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="sect1"
HREF="ch07_07.htm"
TITLE="7.7 Exercises"
><IMG
SRC="../gifs/txtpreva.gif"
ALT="Previous: 7.7 Exercises"
BORDER="0"></A
></TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><A
CLASS="book"
HREF="index.htm"
TITLE="Learning Perl"
><IMG
SRC="../gifs/txthome.gif"
ALT="Learning Perl"
BORDER="0"></A
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="sect1"
HREF="ch08_02.htm"
TITLE="8.2 Invoking a User Function"
><IMG
SRC="../gifs/txtnexta.gif"
ALT="Next: 8.2 Invoking a User Function"
BORDER="0"></A
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
>7.7 Exercises</TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><A
CLASS="index"
HREF="index/idx_0.htm"
TITLE="Book Index"
><IMG
SRC="../gifs/index.gif"
ALT="Book Index"
BORDER="0"></A
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
>8.2 Invoking a User Function</TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"><P
CLASS="nav"
><FONT
SIZE="-1"
>[ <A
HREF="../index.htm"
TITLE="The Perl CD Bookshelf"
>Library Home</A
> | <A
HREF="../perlnut/index.htm"
TITLE="Perl in a Nutshell"
>Perl in a Nutshell</A
> | <A
HREF="index.htm"
TITLE="Learning Perl"
>Learning Perl</A
> | <A
HREF="../learn32/index.htm"
TITLE="Learning Perl on Win32 Systems"
>Learning Perl on Win32</A
> | <A
HREF="../prog/index.htm"
TITLE="Programming Perl"
>Programming Perl</A
> | <A
HREF="../advprog/index.htm"
TITLE="Advanced Perl Programming"
>Advanced Perl Programming</A
> | <A
HREF="../cookbook/index.htm"
TITLE="Perl Cookbook"
>Perl Cookbook</A
> ]</FONT
></P
></DIV
></BODY
></HTML
>
