<HTML
><HEAD
>
<TITLE>[Chapter 7] 7.2.31 File::Path&nbsp;- Create or Remove a Series of Directories</TITLE>
<META
NAME="DC.title"
CONTENT="Programming Perl"><META
NAME="DC.creator"
CONTENT="Larry Wall, Tom Christiansen &amp; Randal L. Schwartz"><META
NAME="DC.publisher"
CONTENT="O'Reilly &amp; Associates, Inc."><META
NAME="DC.date"
CONTENT="1999-07-02T02:02:29Z"><META
NAME="DC.type"
CONTENT="Text.Monograph"><META
NAME="DC.format"
CONTENT="text/html"
SCHEME="MIME"><META
NAME="DC.source"
CONTENT="1-56592-149-6"
SCHEME="ISBN"><META
NAME="DC.language"
CONTENT="en-US"><META
NAME="generator"
CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINK
REV="made"
HREF="mailto:online-books@oreilly.com"
TITLE="Online Books Comments"><LINK
REL="up"
HREF="ch07_02.htm"
TITLE="7.2 Library Modules"><LINK
REL="prev"
HREF="ch07_030.htm"
TITLE="7.2.30 File::Find&nbsp;- Traverse a File Tree"><LINK
REL="next"
HREF="ch07_032.htm"
TITLE="7.2.32 FileCache&nbsp;- Keep More Files Open Than the System Permits"></HEAD
><BODY
BGCOLOR="#FFFFFF"
TEXT="#000000"
><DIV
CLASS="htmlnav"
><H1
><IMG
SRC="gifs/smbanner.gif"
ALT="Programming Perl"
USEMAP="#srchmap"
BORDER="0"></H1
><MAP
NAME="srchmap"
><AREA
SHAPE="RECT"
COORDS="0,0,466,65"
HREF="index.htm"
ALT="Programming Perl"><AREA
SHAPE="RECT"
COORDS="467,0,514,18"
HREF="../search/psrch.htm"
ALT="Search this book"></MAP
><TABLE
WIDTH="515"
BORDER="0"
CELLSPACING="0"
CELLPADDING="0"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT2"
HREF="ch07_030.htm"
TITLE="7.2.30 File::Find&nbsp;- Traverse a File Tree"
><IMG
SRC="../gifs/txtpreva.gif"
ALT="Previous: 7.2.30 File::Find&nbsp;- Traverse a File Tree"
BORDER="0"></A
></TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><B
><FONT
FACE="ARIEL,HELVETICA,HELV,SANSERIF"
SIZE="-1"
><A
CLASS="chapter"
REL="up"
HREF="ch07_01.htm"
TITLE="7. The Standard Perl Library"
>Chapter 7<BR>The Standard Perl Library</A
></FONT
></B
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT2"
HREF="ch07_032.htm"
TITLE="7.2.32 FileCache&nbsp;- Keep More Files Open Than the System Permits"
><IMG
SRC="../gifs/txtnexta.gif"
ALT="Next: 7.2.32 FileCache&nbsp;- Keep More Files Open Than the System Permits"
BORDER="0"></A
></TD
></TR
></TABLE
>&nbsp;<HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"></DIV
><DIV
CLASS="SECT2"
><H3
CLASS="sect2"
><A
CLASS="title"
NAME="AUTOID-22456"
>7.2.31 File::Path&nbsp;- Create or Remove a Series of Directories</A
></H3
><PRE
CLASS="programlisting"
>use File::Path;

mkpath(['/foo/bar/baz', 'blurfl/quux'], 1, 0711);
rmtree(['/foo/bar/baz', 'blurfl/quux'], 1, 1);</PRE
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-22460"
></A
><A
CLASS="indexterm"
NAME="AUTOID-22462"
></A
><A
CLASS="indexterm"
NAME="AUTOID-22464"
></A
><A
CLASS="indexterm"
NAME="AUTOID-22466"
></A
><A
CLASS="indexterm"
NAME="AUTOID-22469"
></A
><A
CLASS="indexterm"
NAME="AUTOID-22472"
></A
>The <CODE
CLASS="literal"
>mkpath()</CODE
> function provides a convenient way to create directories,
even if
your <EM
CLASS="emphasis"
>mkdir</EM
>(2) won't create more than one level of directory at a
time.  <CODE
CLASS="literal"
>mkpath()</CODE
> takes three arguments:</P
><UL
CLASS="itemizedlist"
><LI
CLASS="listitem"
><P
CLASS="para"
>The name of the path to create, or a reference
to a list of paths to create</P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
>A Boolean value, which if true will cause <CODE
CLASS="literal"
>mkpath()</CODE
>
to print the name of each directory as it is created
(defaults to false)</P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
>The numeric mode to use when creating the directories
(defaults to <CODE
CLASS="literal"
>0777</CODE
>)</P
></LI
></UL
><P
CLASS="para"
>It returns a list of all directories created, including intermediate
directories, which are assumed to be delimited by
the UNIX path separator, <CODE
CLASS="literal"
>/</CODE
>.</P
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-22490"
></A
><A
CLASS="indexterm"
NAME="AUTOID-22492"
></A
>Similarly, the <CODE
CLASS="literal"
>rmtree()</CODE
> function provides a convenient way to delete a
subtree from the directory structure, much like the UNIX <EM
CLASS="emphasis"
>rm -r</EM
>
command.  <CODE
CLASS="literal"
>rmtree()</CODE
> takes three arguments:</P
><UL
CLASS="itemizedlist"
><LI
CLASS="listitem"
><P
CLASS="para"
>The root of the subtree to delete, or a reference to
a list of roots.  All of the files and directories
below each root, as well as the roots themselves,
will be deleted.</P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
>A Boolean value, which if true will cause <CODE
CLASS="literal"
>rmtree()</CODE
> to
print a message each time it examines a file, giving the
name of the file and indicating whether it's using <EM
CLASS="emphasis"
>rmdir</EM
>(2)
or <EM
CLASS="emphasis"
>unlink</EM
>(2) to remove it, or whether it's skipping it.
(This argument defaults to false.)</P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
>A Boolean value, which if true will cause <CODE
CLASS="literal"
>rmtree()</CODE
> to
skip any files to which you do not have delete access
(if running under VMS) or write access (if running
under another operating system).  This will change in the future when
a criterion for &quot;delete permission&quot; under operating systems other
than VMS is settled. (This argument defaults to false.)</P
></LI
></UL
><P
CLASS="para"
><CODE
CLASS="literal"
>rmtree()</CODE
> returns the number of files successfully deleted.
Symbolic links are treated as ordinary files.</P
></DIV
><DIV
CLASS="htmlnav"
><P
></P
><HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"><TABLE
WIDTH="515"
BORDER="0"
CELLSPACING="0"
CELLPADDING="0"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT2"
HREF="ch07_030.htm"
TITLE="7.2.30 File::Find&nbsp;- Traverse a File Tree"
><IMG
SRC="../gifs/txtpreva.gif"
ALT="Previous: 7.2.30 File::Find&nbsp;- Traverse a File Tree"
BORDER="0"></A
></TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><A
CLASS="book"
HREF="index.htm"
TITLE="Programming Perl"
><IMG
SRC="../gifs/txthome.gif"
ALT="Programming Perl"
BORDER="0"></A
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT2"
HREF="ch07_032.htm"
TITLE="7.2.32 FileCache&nbsp;- Keep More Files Open Than the System Permits"
><IMG
SRC="../gifs/txtnexta.gif"
ALT="Next: 7.2.32 FileCache&nbsp;- Keep More Files Open Than the System Permits"
BORDER="0"></A
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
>7.2.30 File::Find&nbsp;- Traverse a File Tree</TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><A
CLASS="index"
HREF="index/idx_0.htm"
TITLE="Book Index"
><IMG
SRC="../gifs/index.gif"
ALT="Book Index"
BORDER="0"></A
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
>7.2.32 FileCache&nbsp;- Keep More Files Open Than the System Permits</TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"><P
CLASS="nav"
><FONT
SIZE="-1"
>[ <A
HREF="../index.htm"
TITLE="The Perl CD Bookshelf"
>Library Home</A
> | <A
HREF="../perlnut/index.htm"
TITLE="Perl in a Nutshell"
>Perl in a Nutshell</A
> | <A
HREF="../learn/index.htm"
TITLE="Learning Perl"
>Learning Perl</A
> | <A
HREF="../learn32/index.htm"
TITLE="Learning Perl on Win32 Systems"
>Learning Perl on Win32</A
> | <A
HREF="index.htm"
TITLE="Programming Perl"
>Programming Perl</A
> | <A
HREF="../advprog/index.htm"
TITLE="Advanced Perl Programming"
>Advanced Perl Programming</A
> | <A
HREF="../cookbook/index.htm"
TITLE="Perl Cookbook"
>Perl Cookbook</A
> ]</FONT
></P
></DIV
></BODY
></HTML
>
