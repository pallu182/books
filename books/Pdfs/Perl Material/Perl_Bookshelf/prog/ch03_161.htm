<HTML
><HEAD
>
<TITLE>[Chapter 3] 3.2.161 sub</TITLE>
<META
NAME="DC.title"
CONTENT="Programming Perl"><META
NAME="DC.creator"
CONTENT="Larry Wall, Tom Christiansen &amp; Randal L. Schwartz"><META
NAME="DC.publisher"
CONTENT="O'Reilly &amp; Associates, Inc."><META
NAME="DC.date"
CONTENT="1999-07-02T01:54:42Z"><META
NAME="DC.type"
CONTENT="Text.Monograph"><META
NAME="DC.format"
CONTENT="text/html"
SCHEME="MIME"><META
NAME="DC.source"
CONTENT="1-56592-149-6"
SCHEME="ISBN"><META
NAME="DC.language"
CONTENT="en-US"><META
NAME="generator"
CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINK
REV="made"
HREF="mailto:online-books@oreilly.com"
TITLE="Online Books Comments"><LINK
REL="up"
HREF="ch03_02.htm"
TITLE="3.2 Perl Functions in Alphabetical Order"><LINK
REL="prev"
HREF="ch03_160.htm"
TITLE="3.2.160 study"><LINK
REL="next"
HREF="ch03_162.htm"
TITLE="3.2.162 substr"></HEAD
><BODY
BGCOLOR="#FFFFFF"
TEXT="#000000"
><DIV
CLASS="htmlnav"
><H1
><IMG
SRC="gifs/smbanner.gif"
ALT="Programming Perl"
USEMAP="#srchmap"
BORDER="0"></H1
><MAP
NAME="srchmap"
><AREA
SHAPE="RECT"
COORDS="0,0,466,65"
HREF="index.htm"
ALT="Programming Perl"><AREA
SHAPE="RECT"
COORDS="467,0,514,18"
HREF="../search/psrch.htm"
ALT="Search this book"></MAP
><TABLE
WIDTH="515"
BORDER="0"
CELLSPACING="0"
CELLPADDING="0"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT2"
HREF="ch03_160.htm"
TITLE="3.2.160 study"
><IMG
SRC="../gifs/txtpreva.gif"
ALT="Previous: 3.2.160 study"
BORDER="0"></A
></TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><B
><FONT
FACE="ARIEL,HELVETICA,HELV,SANSERIF"
SIZE="-1"
><A
CLASS="chapter"
REL="up"
HREF="ch03_01.htm"
TITLE="3. Functions"
>Chapter 3<BR>Functions</A
></FONT
></B
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT2"
HREF="ch03_162.htm"
TITLE="3.2.162 substr"
><IMG
SRC="../gifs/txtnexta.gif"
ALT="Next: 3.2.162 substr"
BORDER="0"></A
></TD
></TR
></TABLE
>&nbsp;<HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"></DIV
><DIV
CLASS="SECT2"
><H3
CLASS="sect2"
><A
CLASS="title"
NAME="PERL2-CMD-SUB"
>3.2.161 sub</A
></H3
><PRE
CLASS="programlisting"
>sub <CODE
CLASS="replaceable"
><I
>NAME</I
></CODE
> <CODE
CLASS="replaceable"
><I
>BLOCK</I
></CODE
>
sub <CODE
CLASS="replaceable"
><I
>NAME</I
></CODE
>
sub <CODE
CLASS="replaceable"
><I
>BLOCK</I
></CODE
>

sub <CODE
CLASS="replaceable"
><I
>NAME</I
></CODE
> <CODE
CLASS="replaceable"
><I
>PROTO</I
></CODE
> <CODE
CLASS="replaceable"
><I
>BLOCK</I
></CODE
>
sub <CODE
CLASS="replaceable"
><I
>NAME</I
></CODE
> <CODE
CLASS="replaceable"
><I
>PROTO</I
></CODE
>
sub <CODE
CLASS="replaceable"
><I
>PROTO</I
></CODE
> <CODE
CLASS="replaceable"
><I
>BLOCK</I
></CODE
></PRE
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-13522"
></A
><A
CLASS="indexterm"
NAME="AUTOID-13524"
></A
><A
CLASS="indexterm"
NAME="AUTOID-13527"
></A
>The first two of these are not really operators, but rather they
declare the existence of named subroutines, which is why the
syntax includes a <CODE
CLASS="replaceable"
><I
>NAME</I
></CODE
>, after all.  (As declarations, they
return no value.)  The first one additionally defines the
subroutine with a <CODE
CLASS="replaceable"
><I
>BLOCK</I
></CODE
>, which contains the code for the
subroutine.  The second one (the one without the <CODE
CLASS="replaceable"
><I
>BLOCK</I
></CODE
>) is
just a forward declaration, that is, a declaration that introduces the
subroutine name without defining it, with the expectation that the real
definition will come later.  (This is useful because the parser treats a
word specially if it knows it's a user-defined subroutine.  You can call
such a subroutine as if it were a list operator, for instance.)</P
><P
CLASS="para"
>The third form really <EM
CLASS="emphasis"
>is</EM
> an operator, in that it can be
used within expressions to generate an anonymous subroutine at run-time.  (More
specifically, it returns a reference to an anonymous subroutine, since you can't
talk about something anonymous without some kind of reference to it.)  If the
anonymous subroutine refers to any lexical variables declared outside its
<CODE
CLASS="replaceable"
><I
>BLOCK</I
></CODE
>, it functions as a
<EM
CLASS="emphasis"
>closure</EM
>, which means that different calls to the same <A
CLASS="xref"
HREF="ch03_161.htm"
TITLE="sub"
><B
CLASS="xref.cmd"
>sub</B
></A
> operator will do the bookkeeping necessary to
keep the correct &quot;version&quot; of each such lexical variable in sight for the life
of the closure, even if the original scope of the lexical variable has been
destroyed.</P
><P
CLASS="para"
>The final three forms are identical to the first three, except that they
also supply a prototype that lets you specify how calls to your
subroutine should be parsed and analyzed, so you can make your
routines act more like some of Perl's built-in functions.  See
&quot;Subroutines&quot; in <A
CLASS="xref"
HREF="ch02_01.htm"
TITLE="The Gory Details"
>Chapter 2</A
> and &quot;Anonymous Subroutines&quot; in <A
CLASS="xref"
HREF="ch04_01.htm"
TITLE="References and Nested Data Structures"
>Chapter 4</A
>
for more details.</P
></DIV
><DIV
CLASS="htmlnav"
><P
></P
><HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"><TABLE
WIDTH="515"
BORDER="0"
CELLSPACING="0"
CELLPADDING="0"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT2"
HREF="ch03_160.htm"
TITLE="3.2.160 study"
><IMG
SRC="../gifs/txtpreva.gif"
ALT="Previous: 3.2.160 study"
BORDER="0"></A
></TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><A
CLASS="book"
HREF="index.htm"
TITLE="Programming Perl"
><IMG
SRC="../gifs/txthome.gif"
ALT="Programming Perl"
BORDER="0"></A
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT2"
HREF="ch03_162.htm"
TITLE="3.2.162 substr"
><IMG
SRC="../gifs/txtnexta.gif"
ALT="Next: 3.2.162 substr"
BORDER="0"></A
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
>3.2.160 study</TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><A
CLASS="index"
HREF="index/idx_0.htm"
TITLE="Book Index"
><IMG
SRC="../gifs/index.gif"
ALT="Book Index"
BORDER="0"></A
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
>3.2.162 substr</TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"><P
CLASS="nav"
><FONT
SIZE="-1"
>[ <A
HREF="../index.htm"
TITLE="The Perl CD Bookshelf"
>Library Home</A
> | <A
HREF="../perlnut/index.htm"
TITLE="Perl in a Nutshell"
>Perl in a Nutshell</A
> | <A
HREF="../learn/index.htm"
TITLE="Learning Perl"
>Learning Perl</A
> | <A
HREF="../learn32/index.htm"
TITLE="Learning Perl on Win32 Systems"
>Learning Perl on Win32</A
> | <A
HREF="index.htm"
TITLE="Programming Perl"
>Programming Perl</A
> | <A
HREF="../advprog/index.htm"
TITLE="Advanced Perl Programming"
>Advanced Perl Programming</A
> | <A
HREF="../cookbook/index.htm"
TITLE="Perl Cookbook"
>Perl Cookbook</A
> ]</FONT
></P
></DIV
></BODY
></HTML
>
