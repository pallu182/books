<HTML
><HEAD
>
<TITLE>[Chapter 4] 4.4 The do {} while/until Statement</TITLE>
<META
NAME="DC.title"
CONTENT="Learning Perl on Win32 Systems"><META
NAME="DC.creator"
CONTENT="Randal L. Schwartz, Erik Olson &amp; Tom Christiansen"><META
NAME="DC.publisher"
CONTENT="O'Reilly &amp; Associates, Inc."><META
NAME="DC.date"
CONTENT="1999-07-02T01:33:06Z"><META
NAME="DC.type"
CONTENT="Text.Monograph"><META
NAME="DC.format"
CONTENT="text/html"
SCHEME="MIME"><META
NAME="DC.source"
CONTENT="1-56592-324-3"
SCHEME="ISBN"><META
NAME="DC.language"
CONTENT="en-US"><META
NAME="generator"
CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINK
REV="made"
HREF="mailto:online-books@oreilly.com"
TITLE="Online Books Comments"><LINK
REL="up"
HREF="ch04_01.htm"
TITLE="4. Control Structures"><LINK
REL="prev"
HREF="ch04_03.htm"
TITLE="4.3 The while/until Statement"><LINK
REL="next"
HREF="ch04_05.htm"
TITLE="4.5 The for Statement"></HEAD
><BODY
BGCOLOR="#FFFFFF"
TEXT="#000000"
><DIV
CLASS="htmlnav"
><H1
><IMG
SRC="gifs/smbanner.gif"
ALT="Learning Perl on Win32 Systems"
USEMAP="#srchmap"
BORDER="0"></H1
><MAP
NAME="srchmap"
><AREA
SHAPE="RECT"
COORDS="0,0,466,54"
HREF="index.htm"
ALT="Learning Perl on Win32 Systems"><AREA
SHAPE="RECT"
COORDS="467,0,514,18"
HREF="../search/wsrch.htm"
ALT="Search this book"></MAP
><TABLE
WIDTH="515"
BORDER="0"
CELLSPACING="0"
CELLPADDING="0"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="sect1"
HREF="ch04_03.htm"
TITLE="4.3 The while/until Statement"
><IMG
SRC="../gifs/txtpreva.gif"
ALT="Previous: 4.3 The while/until Statement"
BORDER="0"></A
></TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><B
><FONT
FACE="ARIEL,HELVETICA,HELV,SANSERIF"
SIZE="-1"
><A
CLASS="chapter"
REL="up"
HREF="ch04_01.htm"
TITLE="4. Control Structures"
>Chapter 4<BR>Control Structures</A
></FONT
></B
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="sect1"
HREF="ch04_05.htm"
TITLE="4.5 The for Statement"
><IMG
SRC="../gifs/txtnexta.gif"
ALT="Next: 4.5 The for Statement"
BORDER="0"></A
></TD
></TR
></TABLE
>&nbsp;<HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"></DIV
><DIV
CLASS="sect1"
><H2
CLASS="sect1"
><A
CLASS="title"
NAME="ch04-34686"
>4.4 The do {} while/until Statement</A
></H2
><P
CLASS="para"
>The <CODE
CLASS="literal"
>while/until</CODE
> statement you saw in the previous section tests its condition at the top of every loop, before the loop is entered. If the condition was already false to begin with, the loop won't be executed at all.</P
><P
CLASS="para"
>But sometimes you don't want to test the condition at the top of the loop. Instead, you want to test it at the bottom. To fill this need, Perl provides the <CODE
CLASS="literal"
>do</CODE
> <CODE
CLASS="literal"
>{}</CODE
> <CODE
CLASS="literal"
>while</CODE
> statement, which is just like the regular <CODE
CLASS="literal"
>while</CODE
>[<A
CLASS="footnote"
HREF="#ch04-pgfId-569"
>3</A
>] statement except that it doesn't test the expression until after executing the loop once. For example:</P
><BLOCKQUOTE
CLASS="footnote"
><DIV
CLASS="footnote"
><P
CLASS="para"
><A
CLASS="footnote"
NAME="ch04-pgfId-569"
>[3]</A
>  Well, this statement is not quite true; the loop control directives explained in <A
CLASS="xref"
HREF="ch09_01.htm"
TITLE="Miscellaneous Control Structures"
>Chapter 9, <CITE
CLASS="chapter"
>Miscellaneous Control Structures</CITE
></A
>, don't work for the bottom-testing form.</P
></DIV
></BLOCKQUOTE
><PRE
CLASS="programlisting"
>do {
    statement_1;
    statement_2;
    statement_3;
} while (some_expression);</PRE
><P
CLASS="para"
>Perl executes the statements in the <CODE
CLASS="literal"
>do</CODE
> block. When it reaches the end, it evaluates the expression for truth. If the expression is false, the loop is done. If it's true, then the whole block is executed one more time before the expression is once again checked.</P
><P
CLASS="para"
>As with a normal <CODE
CLASS="literal"
>while</CODE
> loop, you can invert the sense of the test by changing <CODE
CLASS="literal"
>do</CODE
> <CODE
CLASS="literal"
>{}</CODE
> <CODE
CLASS="literal"
>while</CODE
> to <CODE
CLASS="literal"
>do</CODE
> <CODE
CLASS="literal"
>{}</CODE
> <CODE
CLASS="literal"
>until</CODE
>. The expression is still tested at the bottom, but its sense is reversed. For some cases, especially compound ones, this is the more natural way to write the test:</P
><PRE
CLASS="programlisting"
>$stops = 0;
do {
    $stops++;
    print &quot;Next stop? &quot;;
    chomp($location = &lt;STDIN&gt;);
} until $stops &gt; 5 || $location eq 'home';</PRE
></DIV
><DIV
CLASS="htmlnav"
><P
></P
><HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"><TABLE
WIDTH="515"
BORDER="0"
CELLSPACING="0"
CELLPADDING="0"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="sect1"
HREF="ch04_03.htm"
TITLE="4.3 The while/until Statement"
><IMG
SRC="../gifs/txtpreva.gif"
ALT="Previous: 4.3 The while/until Statement"
BORDER="0"></A
></TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><A
CLASS="book"
HREF="index.htm"
TITLE="Learning Perl on Win32 Systems"
><IMG
SRC="../gifs/txthome.gif"
ALT="Learning Perl on Win32 Systems"
BORDER="0"></A
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="sect1"
HREF="ch04_05.htm"
TITLE="4.5 The for Statement"
><IMG
SRC="../gifs/txtnexta.gif"
ALT="Next: 4.5 The for Statement"
BORDER="0"></A
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
>4.3 The while/until Statement</TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><A
CLASS="index"
HREF="index/idx_0.htm"
TITLE="Book Index"
><IMG
SRC="../gifs/index.gif"
ALT="Book Index"
BORDER="0"></A
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
>4.5 The for Statement</TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"><P
CLASS="nav"
><FONT
SIZE="-1"
>[ <A
HREF="../index.htm"
TITLE="The Perl CD Bookshelf"
>Library Home</A
> | <A
HREF="../perlnut/index.htm"
TITLE="Perl in a Nutshell"
>Perl in a Nutshell</A
> | <A
HREF="../learn/index.htm"
TITLE="Learning Perl"
>Learning Perl</A
> | <A
HREF="index.htm"
TITLE="Learning Perl on Win32 Systems"
>Learning Perl on Win32</A
> | <A
HREF="../prog/index.htm"
TITLE="Programming Perl"
>Programming Perl</A
> | <A
HREF="../advprog/index.htm"
TITLE="Advanced Perl Programming"
>Advanced Perl Programming</A
> | <A
HREF="../cookbook/index.htm"
TITLE="Perl Cookbook"
>Perl Cookbook</A
> ]</FONT
></P
></DIV
></BODY
></HTML
>
